FROM golang:1.23-bookworm

RUN apt-get update \
	&& apt-get install -y --no-install-recommends libraw-dev pkg-config ca-certificates \
	&& rm -rf /var/lib/apt/lists/*

RUN go install github.com/air-verse/air@v1.61.7

WORKDIR /workspace/backend

ENV CGO_ENABLED=1

CMD ["air", "-c", ".air.toml"]
